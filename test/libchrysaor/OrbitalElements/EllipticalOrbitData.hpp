/*
 *    This file is part of chrysaor.
 *    copyright (c) 2016 Roman Lebedev.
 *
 *    chrysaor is free software: you can redistribute it and/or modify
 *    it under the terms of the GNU General Public License as published by
 *    the Free Software Foundation, either version 3 of the License, or
 *    (at your option) any later version.
 *
 *    chrysaor is distributed in the hope that it will be useful,
 *    but WITHOUT ANY WARRANTY; without even the implied warranty of
 *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *    GNU General Public License for more details.
 *
 *    You should have received a copy of the GNU General Public License
 *    along with chrysaor.  If not, see <http://www.gnu.org/licenses/>.
 */

#pragma once

#include "CelestialBody.hpp" // for CelestialBody
#include "OrbitalElements/CelestialBodyData.hpp"
#include <iostream> // for operator<<, basic_ostream, basic...

struct EllipticalOrbitData {
  // this we know:
  const CelestialBody *body;
  double altitude; // periapsis
  double velocity;

  double apoapsis; // expected

  // this we can calculate:
  double sma;
  double epsilon;
  double srh;
  double ecc;

  friend std::ostream &operator<<(std::ostream &os,
                                  const EllipticalOrbitData &obj) {
    return os << "altitude: " << obj.altitude << ", velocity: " << obj.velocity
              << "; SMA: " << obj.sma << ", eps: " << obj.epsilon
              << ", srh: " << obj.srh << ", ecc: " << obj.ecc;
  }
};

// the data is autogenerated, see math/test/generate-ellipticalorbit-params.sage

static const struct EllipticalOrbitData KerbinEllipticalOrbitData[] = {
    EllipticalOrbitData{&Kerbin, 0.00000000000000000000000000000000000000,
                        2426.1079942986875721544492989778518677,
                        0.00000000000000000000000000000000000000,
                        600000.00000000000000000000000000000000,
                        -2.9430000000000000000000000000000000000e6,
                        1.4556647965792124271392822265625000000e9,
                        0.00000000000000000000000000000000000000},
    EllipticalOrbitData{&Kerbin, 0.00000000000000000000000000000000000000,
                        2492.0724702244101536052767187356948853,
                        70000.000000000000000000000000000000000,
                        635000.00000000000000000000000000000000,
                        -2.7807874015748030506074428558349609375e6,
                        1.4952434821346461772918701171875000000e9,
                        0.055118110236220471676027443663770100102},
    EllipticalOrbitData{&Kerbin, 0.00000000000000000000000000000000000000,
                        2517.6912500879116123542189598083496094,
                        100000.00000000000000000000000000000000,
                        650000.00000000000000000000000000000000,
                        -2.7166153846153845079243183135986328125e6,
                        1.5106147500527470111846923828125000000e9,
                        0.076923076923076927347011633173679001629},
    EllipticalOrbitData{&Kerbin, 0.00000000000000000000000000000000000000,
                        3167.6052523016251143417321145534515381,
                        2.8633340600000000000000000000000000000e6,
                        2.0316670300000000279396772384643554688e6,
                        -869138.48279557889327406883239746093750,
                        1.9005631513809750080108642578125000000e9,
                        0.70467601671913726590901205781847238541},
    EllipticalOrbitData{&Kerbin, 70000.000000000000000000000000000000000,
                        2295.8756011856135046400595456361770630,
                        70000.000000000000000000000000000000000,
                        670000.00000000000000000000000000000000,
                        -2.6355223880597013048827648162841796875e6,
                        1.5382366527943611145019531250000000000e9,
                        0.00000000000000000000000000000000000000},
    EllipticalOrbitData{&Kerbin, 70000.000000000000000000000000000000000,
                        2320.8767986006068895221687853336334229,
                        100000.00000000000000000000000000000000,
                        685000.00000000000000000000000000000000,
                        -2.5778102189781023189425468444824218750e6,
                        1.5549874550624065399169921875000000000e9,
                        0.021897810218978102189781021897810218978},
    EllipticalOrbitData{&Kerbin, 70000.000000000000000000000000000000000,
                        2972.0785896382694772910326719284057617,
                        2.8633340600000000000000000000000000000e6,
                        2.0666670300000000279396772384643554688e6,
                        -854419.20462630107067525386810302734375,
                        1.9912926550576405525207519531250000000e9,
                        0.67580650860821056546967611211584880948},
    EllipticalOrbitData{&Kerbin, 100000.00000000000000000000000000000000,
                        2246.1395453405957596260122954845428467,
                        100000.00000000000000000000000000000000,
                        700000.00000000000000000000000000000000,
                        -2.5225714285714286379516124725341796875e6,
                        1.5722976817384171485900878906250000000e9,
                        0.00000000000000000000000000000000000000},
    EllipticalOrbitData{&Kerbin, 100000.00000000000000000000000000000000,
                        2897.1987833458042587153613567352294922,
                        2.8633340600000000000000000000000000000e6,
                        2.0816670300000000279396772384643554688e6,
                        -848262.46203265269286930561065673828125,
                        2.0280391483420629501342773437500000000e9,
                        0.66373104348009004382902276120148599148},
    EllipticalOrbitData{&Kerbin, 2.8633340600000000000000000000000000000e6,
                        1009.8074305900465787999564781785011292,
                        2.8633340600000000000000000000000000000e6,
                        3.4633340600000000558793544769287109375e6,
                        -509855.52343743585515767335891723632812,
                        3.4973004684035944938659667968750000000e9,
                        0.00000000000000000000000000000000000000}

};

static const struct EllipticalOrbitData EarthEllipticalOrbitData[] = {
    EllipticalOrbitData{&Earth, 0.00000000000000000000000000000000000000,
                        7905.3659669038524953066371381282806396,
                        0.00000000000000000000000000000000000000,
                        6.3781365999999996274709701538085937500e6,
                        -3.1247405535340841859579086303710937500e7,
                        5.0421504009903846740722656250000000000e10,
                        0.00000000000000000000000000000000000000},
    EllipticalOrbitData{&Earth, 0.00000000000000000000000000000000000000,
                        7954.1790227209166914690285921096801758,
                        160000.00000000000000000000000000000000,
                        6.4581365999999996274709701538085937500e6,
                        -3.0860329107934944331645965576171875000e7,
                        5.0732840347768508911132812500000000000e10,
                        0.012387474120631019811056283685957168927},
    EllipticalOrbitData{&Earth, 0.00000000000000000000000000000000000000,
                        7980.9808103873447180376388132572174072,
                        250000.00000000000000000000000000000000,
                        6.5031365999999996274709701538085937500e6,
                        -3.0646783722796168178319931030273437500e7,
                        5.0903785810629180908203125000000000000e10,
                        0.019221493824995158211654810997970344033},
    EllipticalOrbitData{&Earth, 0.00000000000000000000000000000000000000,
                        10419.539570032044139225035905838012695,
                        3.5786000000000000000000000000000000000e7,
                        2.4271136600000001490116119384765625000e7,
                        -8.2114086449499027803540229797363281250e6,
                        6.6457246686769638061523437500000000000e10,
                        0.73721310603970635622061990943620912731},
    EllipticalOrbitData{&Earth, 160000.00000000000000000000000000000000,
                        7808.0375433456320024561136960983276367,
                        160000.00000000000000000000000000000000,
                        6.5381365999999996274709701538085937500e6,
                        -3.0482725139147445559501647949218750000e7,
                        5.1050016036322158813476562500000000000e10,
                        0.00000000000000000000000000000000000000},
    EllipticalOrbitData{&Earth, 160000.00000000000000000000000000000000,
                        7834.6785891046356482547707855701446533,
                        250000.00000000000000000000000000000000,
                        6.5831365999999996274709701538085937500e6,
                        -3.0274355981007594615221023559570312500e7,
                        5.1224198832661376953125000000000000000e10,
                        0.0068356473113439578104255645030207233503},
    EllipticalOrbitData{&Earth, 160000.00000000000000000000000000000000,
                        10274.338743499216434429399669170379639,
                        3.5786000000000000000000000000000000000e7,
                        2.4351136600000001490116119384765625000e7,
                        -8.1844319702103752642869949340820312500e6,
                        6.7175030179670234680175781250000000000e10,
                        0.73150589611492711217266560197458602488},
    EllipticalOrbitData{&Earth, 250000.00000000000000000000000000000000,
                        7754.8457313704484477057121694087982178,
                        250000.00000000000000000000000000000000,
                        6.6281365999999996274709701538085937500e6,
                        -3.0068816158677238970994949340820312500e7,
                        5.1400176819450233459472656250000000000e10,
                        0.00000000000000000000000000000000000000},
    EllipticalOrbitData{&Earth, 250000.00000000000000000000000000000000,
                        10194.929816018780911690555512905120850,
                        3.5786000000000000000000000000000000000e7,
                        2.4396136600000001490116119384765625000e7,
                        -8.1693353405801141634583473205566406250e6,
                        6.7573387447985343933105468750000000000e10,
                        0.72831203937429989103691241325577721000},
    EllipticalOrbitData{&Earth, 3.5786000000000000000000000000000000000e7,
                        3074.6613035946002128184773027896881104,
                        3.5786000000000000000000000000000000000e7,
                        4.2164136600000001490116119384765625000e7,
                        -4.7267710659110229462385177612304687500e6,
                        1.2964043920349679565429687500000000000e11,
                        0.00000000000000000000000000000000000000}

};
